schema {
  query: Query
}

"""
The query type, represents all of the entry points into our object graph.
"""
type Query {
  allPosts(): [Post]!
  posts(limit: Int, offset: Int): [Post]!
  post(id: ID!): Post
  nextPost(id: ID!): ID
  prevPost(id: ID!): ID
  allLinks(): [Link]!
  links(limit: Int, offset: Int): [Link]!
  link(id: ID!): Link
}

"""
A post is an individual post in the blog.
"""
type Post {
  id: ID!
  title: String!
  content: String!
  summary: String!
  readtime: Int!
  datetime: Time!
  created: Time!
  modified: Time!
  draft: Boolean!
  tags: [String!]!
  links: [Link]!
}

"""
A link is a link I have save on pinboard or a link in a post.
"""
type Link {
  id: ID!
  title: String!
  uri: URI!
  created: Time!
  description: String!
  screenshot: URI!
  tags: [String!]!
}

"""
Time is a datetime scalar with timezone.
"""
scalar Time

scalar URI

"""
Comment is an undefined type reserved for the future.
"""
type Comment {
  id: ID!
}

input NewPost {
  content: String!
  title: String!
  datetime: Time!
  draft: Boolean!
}

input NewLink {
  title: String!
  uri: URI!
  description: String!
  tags: [String]!
  created: Time!
}

type Mutation {
  createPost(input: NewPost!): Post!
  editPost(Id: ID!, input: NewPost!): Post!
  createLink(input: NewLink!): Link!
}
